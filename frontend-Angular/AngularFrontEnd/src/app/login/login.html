<div class="container py-5">
  <div class="logo-container mb-4 d-flex justify-content-center align-items-center">
    <img src="assets/images/logo.jpg" alt="Logo" class="logo-img img-fluid">
  </div>

  <!-- Contenedor que cambia de vista según selectedMenu -->
  <div [ngSwitch]="selectedMenu">

    <!-- Formulario de inicio de sesión -->
    <div *ngSwitchCase="'signin'">
      <div class="card p-4 mx-auto">
        <h3 class="mb-3 text-center">Inicio de sesión</h3>
        <form [formGroup]="signInForm" (ngSubmit)="onSignIn()">
          <div class="mb-3">
            <label for="signinEmail" class="form-label">Correo institucional</label>
            <input type="email" class="form-control"
              [ngClass]="{'is-invalid': signInForm.get('email')?.invalid && (signInForm.get('email')?.dirty || signInForm.get('email')?.touched)}"
              id="signinEmail" placeholder="Escribe tu correo institucional" formControlName="email" required>
            <div
              *ngIf="signInForm.get('email')?.invalid && (signInForm.get('email')?.dirty || signInForm.get('email')?.touched)"
              class="invalid-feedback d-block">
              El correo es obligatorio y debe ser válido.
            </div>
          </div>
          <div class="mb-3">
            <label for="signinPassword" class="form-label">Contraseña</label>
            <input type="password" class="form-control"
              [ngClass]="{'is-invalid': signInForm.get('password')?.invalid && (signInForm.get('password')?.dirty || signInForm.get('password')?.touched)}"
              id="signinPassword" placeholder="Escribe tu contraseña" formControlName="password" required>
            <div
              *ngIf="signInForm.get('password')?.invalid && (signInForm.get('password')?.dirty || signInForm.get('password')?.touched)"
              class="invalid-feedback d-block">
              La contraseña es obligatoria.
            </div>
          </div>
          <button type="submit" class="btn btn-primary w-100 mb-4">Iniciar sesión</button>
        </form>
      </div>

      <div class="text-center mt-3">
        <a routerLink="/signup" class="btn btn-link p-0" role="button"
          style="color:#176a6a; font-weight:600;">
          ¿Aún no tienes cuenta? Créala aquí
        </a>
      </div>
      <div class="text-center mt-2">
        <a (click)="selectedMenu = 'forgetpassword'" class="btn btn-link p-0" role="button"
          style="color:#176a6a; font-weight:600;">
          ¿Se te olvidó tu contraseña?
        </a>
      </div>
    </div>

    <!-- Formulario de recuperación de contraseña -->
    <div *ngSwitchCase="'forgetpassword'">
      <div class="card p-4 mx-auto">
        <h3 class="mb-3 text-center">Recupera tu contraseña</h3>
        <form [formGroup]="forgetPasswordForm" (ngSubmit)="sendPwd()">
          <div class="mb-3">
            <label for="forgetEmail" class="form-label">Escribe tu correo institucional</label>
            <input type="email" class="form-control"
              [ngClass]="{'is-invalid': forgetPasswordForm.get('email')?.invalid && (forgetPasswordForm.get('email')?.dirty || forgetPasswordForm.get('email')?.touched)}"
              id="forgetEmail" placeholder="Escribe tu correo institucional" formControlName="email" required>
            <div
              *ngIf="forgetPasswordForm.get('email')?.invalid && (forgetPasswordForm.get('email')?.dirty || forgetPasswordForm.get('email')?.touched)"
              class="invalid-feedback d-block">
              El correo es obligatorio y debe ser válido.
            </div>
          </div>
          <button type="submit" class="btn btn-primary w-100 mb-4">Enviar contraseña</button>
        </form>
      </div>
      <div class="text-center mt-3">
        <a (click)="selectedMenu = 'signin'" class="btn btn-link p-0" role="button"
          style="color:#176a6a; font-weight:600;">
          Volver a inicio de sesión
        </a>
      </div>
    </div>

  </div>
</div>